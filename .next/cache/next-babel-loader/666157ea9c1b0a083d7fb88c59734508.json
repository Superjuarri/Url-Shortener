{"ast":null,"code":"const webshot = require('webshot');\n\nconst fetchUrlData = async url => {\n  const urlData = await fetch('https://rel.ink/api/links/', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      url: url\n    })\n  }).then(res => res.json()).catch(err => err);\n  const screenshot = await webshot(url, `images/${urlData.hashid}.png`, function (err) {// screenshot now saved to google.png\n  });\n  return {\n    urlData,\n    screenshot\n  };\n};\n\nexport default fetchUrlData;","map":{"version":3,"sources":["/home/superjuarri/apps/url-shortener/lib/fetchUrlData.js"],"names":["webshot","require","fetchUrlData","url","urlData","fetch","method","headers","body","JSON","stringify","then","res","json","catch","err","screenshot","hashid"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,YAAY,GAAG,MAAMC,GAAN,IAAa;AAChC,QAAMC,OAAO,GAAG,MAAMC,KAAK,CAAC,4BAAD,EAA+B;AACxDC,IAAAA,MAAM,EAAE,MADgD;AAExDC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAF+C;AAKxDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBP,MAAAA,GAAG,EAAEA;AADc,KAAf;AALkD,GAA/B,CAAL,CASnBQ,IATmB,CASdC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EATO,EAUnBC,KAVmB,CAUbC,GAAG,IAAIA,GAVM,CAAtB;AAYA,QAAMC,UAAU,GAAG,MAAMhB,OAAO,CAC9BG,GAD8B,EAE7B,UAASC,OAAO,CAACa,MAAO,MAFK,EAG9B,UAASF,GAAT,EAAc,CACZ;AACD,GAL6B,CAAhC;AAQA,SAAO;AAAEX,IAAAA,OAAF;AAAWY,IAAAA;AAAX,GAAP;AACD,CAtBD;;AAwBA,eAAed,YAAf","sourcesContent":["const webshot = require('webshot')\n\nconst fetchUrlData = async url => {\n  const urlData = await fetch('https://rel.ink/api/links/', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      url: url\n    })\n  })\n    .then(res => res.json())\n    .catch(err => err)\n\n  const screenshot = await webshot(\n    url,\n    `images/${urlData.hashid}.png`,\n    function(err) {\n      // screenshot now saved to google.png\n    }\n  )\n\n  return { urlData, screenshot }\n}\n\nexport default fetchUrlData\n"]},"metadata":{},"sourceType":"module"}